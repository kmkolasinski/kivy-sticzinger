<LoggerHistoryScreen>:
    id: this
    logs_label: logs_label
    toolbar_height: 100
    logger_font_size: 20

    MDBoxLayout:
        orientation: "vertical"
        padding: 5

        MDBoxLayout:
            padding: 5
            spacing: 5
            MDRaisedButton:
                text: "Smaller Font"
                on_press:
                    this.logger_font_size = this.logger_font_size * 0.8

            MDRaisedButton:
                text: "Larger Font"
                on_press:
                    this.logger_font_size = this.logger_font_size / 0.8

        ScrollView:
            font_size: int(this.logger_font_size)
            do_scroll_x: False
            do_scroll_y: True
            size_hint: (1, None)
            size: (Window.width, Window.height - this.toolbar_height * 2)

            MDLabel:
                id: logs_label
                markup: True
                size_hint: (1, None)
                font_size: self.parent.font_size
                size: self.texture_size
                text_size: self.width, None
                text: ""


# Menu item in the DrawerList list.
<ItemDrawer>:
    theme_text_color: "Custom"
    on_release: self.parent.set_color_item(self)

    IconLeftWidget:
        id: icon
        icon: root.icon
        theme_text_color: "Custom"
        text_color: root.text_color


<ContentNavigationDrawer@BoxLayout>:
    orientation: "vertical"
    MDLabel:
        text: "Sticzinger"
        halign: "center"
        bold: True
        size_hint: 1.0, 0.1

    ScrollView:
        DrawerList:
            id: md_list

            ItemDrawer:
                icon: "home"
                text: "Home"
                on_release:
                    app.open_home_screen(self)

            ItemDrawer:
                icon: "information-outline"
                text: "Logs"
                on_release:
                    app.open_logger_history(self)

            ItemDrawer:
                icon: "scatter-plot"
                text: "Keypoints Viewer"
                on_release:
                    app.open_keypoints_viewer(self)

            ItemDrawer:
                icon: "camera"
                text: "Just Camera View"
                on_release:
                    app.open_camera_viewer(self)

            ItemDrawer:
                icon: "target"
                text: "Tracker Viewer"
                on_release:
                    app.open_tracker_viewer(self)

            ItemDrawer:
                icon: "arrow-expand-all"
                text: "Basic Stitcher"
                on_release:
                    app.open_basic_stitcher_viewer(self)

            ItemDrawer:
                icon: "arrow-expand-right"
                text: "Left Right Stitcher"
                on_release:
                    app.open_left_to_right_stitcher_viewer(self)


<MainAppScreen>:
    nav_drawer: nav_drawer
    screen_manager: screen_manager

    home_screen: home_screen
    logger_history: logger_history

    keypoints_viewer: keypoints_viewer
    camera_viewer: camera_viewer
    tracker_viewer: tracker_viewer
    basic_stitcher_viewer: basic_stitcher_viewer
    left_to_right_stitcher_viewer: left_to_right_stitcher_viewer

    MDToolbar:
        id: toolbar
        pos_hint: {"top": 1}
        elevation: 8
        title: "Sticzinger"
        left_action_items: [["menu", app.open_nav_drawer], ["cog", app.open_app_settings]]

    MDNavigationLayout:
        x: toolbar.height

        ScreenManager:
            id: screen_manager

            Screen:
                id: home_screen
                name: "home"
                MDBoxLayout:
                    orientation: "vertical"
                    size_hint: 0.9, 0.6
                    pos_hint: {"center_x": 0.5, "center_y": 0.5}
                    spacing: 10

                    MDCard:
                        orientation: "vertical"
                        padding: 10
                        size_hint: 1, 1
                        pos_hint: {"center_x": .5, "center_y": .5}

                        MDRectangleFlatIconButton:
                            icon: "arrow-expand-all"
                            text: "Basic Stitcher"
                            size_hint: 1, None
                            theme_text_color: "Secondary"

                        MDSeparator:
                            height: "1dp"

                        MDLabel:
                            text: "Use this stitcher to scan images in any direction. First picture should be taken from the front view. You should not move/walk when doing stitching scan."
                            height: self.texture_size[1]

                    MDCard:
                        orientation: "vertical"
                        size_hint: 1, 1
                        padding: 10
                        pos_hint: {"center_x": .5, "center_y": .5}

                        MDRectangleFlatIconButton:
                            icon: "arrow-expand-right"
                            text: "Left-Right Stitcher"
                            size_hint: 1, None
                            theme_text_color: "Secondary"

                        MDSeparator:
                            height: "1dp"

                        MDLabel:
                            text: "User this stitcher to scan images horizontally in the right direction. Take the first picture and then move slowly into the right direction. Follow the guide line."
                            height: self.texture_size[1]


            LoggerHistoryScreen:
                id: logger_history
                toolbar_height: toolbar.height
                name: "logger-history-screen"

            KeypointsViewerScreen:
                id: keypoints_viewer
                name: "keypoints-viewer"

            CameraViewerScreen:
                id: camera_viewer
                name: "camera-viewer"

            TrackerScreen:
                id: tracker_viewer
                name: "tracker-viewer"

            BasicStitcherScreen:
                id: basic_stitcher_viewer
                name: "basic-stitcher-viewer"

            LeftToRightStitcherScreen:
                id: left_to_right_stitcher_viewer
                name: "left-to-right-stitcher-viewer"

        MDNavigationDrawer:
            id: nav_drawer
            ContentNavigationDrawer:

